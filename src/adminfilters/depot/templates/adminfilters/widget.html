{% extends "adminfilters/_wrapper.html" %}{% load i18n %}
{% block title %}
    <h3>{% blocktrans with title as filter_title %}{{ filter_title }} {% endblocktrans %}
        {#        <span class="opener"></span>#}
    </h3>{% endblock %}
{% block content %}
    <ul class="adminfilter"
        data-lk="{{ spec.parameter_name }}"
        data-qs="{{ spec.query_string }}">
        <li>
            <select id="depot_manager" style="width: 100%">
                {% if not spec.selected %}
                    <option></option>{% endif %}
                {% for c in choices %}
                    <option
                            data-qs="{{ c.query_string }}"
                            value="{{ c.pk }}" {% if c.selected %}selected="selected"{% endif %}>{{ c.name }}</option>
                {% endfor %}</select>
        </li>
        {% if spec.can_add_filter and not spec.selected %}
            <li><input {% if spec.query_string == "?" %}disabled="disabled"{% endif %}
                       type="text" style="width: 95%"/>
            </li>
            <li style="display: inline-flex;width: 100%">
                <a class="adminfilters button save filter"
                   onclick="return false;"
                   {% if spec.query_string == "?" %}disabled="disabled"{% endif %}
                   style="width: 100%" href="#">{% trans "add" %}</a>
            </li>
        {% endif %}

    </ul>
{% endblock %}
{% block script %}
    <script type="text/javascript">
        ;(function ($) {
            $(document).ready(function () {
                new DepotManager('#{{ spec.html_attrs.id }}');
            });
        })(django.jQuery);
    </script>
{% endblock %}
