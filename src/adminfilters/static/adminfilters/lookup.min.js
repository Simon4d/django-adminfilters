var LookupFilterHandler=function(a,t){function n(){var a=r.val()!=r.data("original");e.can_negate&&(a|=l.is(":checked")!=l.data("original")),a=a?"filter":"clear",c.html(a),i.data("action",a),i.attr("data-action",a),c.removeClass("filter").removeClass("clear").addClass(a),u=null}var e=Object.assign({negated:!1,can_negate:!0},t),i=django.jQuery("#"+a),c=i.find("a.button"),l=i.find("input[type=checkbox]").first(),r=i.find("[name=value]"),o=i.data("separator"),a=i.find("input,select,textarea"),d=i.data("qs"),u=null;a.on("keyup",function(a){null===u&&setTimeout(n,500)}),a.on("change",function(a){n()});var s=function(){var a,t;return"clear"===i.data("action")?a=d:r.val()&&(t=i.data("lk")+"="+r.val()+o,e.can_negate?t+=l.is(":checked"):t+=e.negated.toString(),a=d+"&"+t),a};this.click=function(){var a=s();a&&(location.href=a)}};