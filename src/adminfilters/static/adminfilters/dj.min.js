var DjangoLookupFilterHandler=function(a,n){function t(){var a=o.val()!=o.data("original")||r.val()!=r.data("original");e.can_negate&&(a|=c.is(":checked")!=c.data("original")),a=a?"filter":"clear",l.html(a),i.data("action",a),i.attr("data-action",a),l.removeClass("filter").removeClass("clear").addClass(a),u=null}var e=Object.assign({negated:!1,can_negate:!0},n),i=django.jQuery("#"+a),l=i.find("a.button"),c=i.find("input[type=checkbox]").first(),o=i.find("input[name=key]").first(),r=i.find("input[name=value]"),a=i.find("input"),d=i.data("qs"),u=null,f=function(){var a;return"clear"===i.data("action")?a=d:o.val()&&(a=(a=d+"&"+o.data("lk")+"="+o.val())+"&"+r.data("lk")+"="+r.val(),e.can_negate&&(a=a+"&"+c.data("lk")+"="+c.is(":checked"))),a};a.on("keyup",function(a){null===u&&setTimeout(t,500)}),a.on("change",function(a){t()}),this.click=function(){var a=f();a&&(location.href=a)}};
